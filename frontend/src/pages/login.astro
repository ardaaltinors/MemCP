---
import Layout from "layouts/Layout.astro";
import { LoginForm } from "@libs/ui/components/LoginForm";
---

<Layout
    title="Login - MemCP"
    description="Sign in to your MemCP account to access your portable agent memory."
>
    <script>
        import { authUtils } from "@libs/utils/auth";
        
        // Check if user is authenticated and redirect to dashboard
        if (authUtils.isAuthenticated()) {
            window.location.href = "/dashboard";
        }
    </script>
    <main class="min-h-screen flex items-center justify-center px-4 py-12 pt-32 md:pt-40">
        <div class="w-full max-w-md">
            {/* Header */}
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-white mb-2">
                    Welcome Back
                </h1>
                <p class="text-gray-400">
                    Sign in to your account to continue
                </p>
            </div>

            {/* Login Form Card */}
            <div class="bg-gray-900/50 backdrop-blur-sm border border-gray-700 rounded-xl p-8 shadow-xl">
                <LoginForm client:load />
            </div>

            {/* Footer */}
            <div class="text-center mt-6">
                <p class="text-gray-400 text-sm">
                    Don't have an account?{" "}
                    <a 
                        href="/register" 
                        class="text-purple-400 hover:text-purple-300 transition-colors font-medium"
                    >
                        Sign up
                    </a>
                </p>
            </div>
        </div>
    </main>
</Layout>

<style>
    /* Additional custom styles if needed */
    main {
        background: inherit;
    }
</style> 